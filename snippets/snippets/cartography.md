# Cartography


## trends

* https://www.npmtrends.com/cesium-vs-leaflet-vs-mapbox-gl-vs-three-js
* https://github.com/Leaflet/Leaflet/ leaflet.js
	* Github 29,800 stars ~ issues 432 open 4018 closed
	* StackOverflow 11,125 questions
OpenStreetMap
	* StackOverflow 3,646 questions
	* https://gis.stackexchange.com/questions/tagged/openstreetmap
Mapbox
	* StackOverflow 5,070 questions
Cesium
	* StackOverflow 685 questions
* https://github.com/tangrams/tangram ~ current
three.js
	* StackOverflow 17,018 questions
esri
	* StackOverflow 932 questions
* Observable
	* StackOverflow 8,030 questions
* OpenLayers
	* StackOverflow 4,241 questions
* https://www.osgeo.org/ osGeo

Compare

* https://www.geoapify.com/leaflet-vs-openlayers
* https://gis.stackexchange.com/questions/33918/choosing-openlayers-or-leaflet
* https://stackshare.io/stackups/google-maps-vs-leaflet-vs-mapbox


## Libraries

* https://3dmr.eu/
* https://cesium.com/
* https://deck.gl/
	* https://github.com/visgl/deck.gl/blob/master/docs/get-started/using-standalone.md
* https://www.esri.com/en-us/home
* https://www.f4map.com/
* https://kepler.gl/
* https://l7.antv.vision/en
* https://github.com/Leaflet/Leaflet
* https://www.mapbox.com/
	* https://www.mapbox.com/blog/
* https://mappa.js.org/
	* https://mappa.js.org/docs/examples-three-js.html
* https://maptalks.org/
	* 3,100 GH stars
* https://www.openglobus.org/
* https://Help.openstreetmap.org
* https://osmbuildings.org/
* https://www.osgeo.org/
	* https://openlayers.org/
	* https://giscience.github.io/GIScene.js/
		* update 2016 A 3D WebGIS framework. Based on Three.js. Easy to learn and customize.
* https://github.com/potree/potree/
	* https://github.com/pnext/three-loader
* https://github.com/tangrams/tangram
* https://terria.io/applications
* https://vis.gl/
* https://github.com/UDST/vizicities ~ 2016
* https://github.com/w3reality/three-geo
* https://www.wrld3d.com/
* https://worldwind.arc.nasa.gov/web/examples/#anchor

### planet textures

* https://www.solarsystemscope.com/textures/

### OSGeo

* https://wiki.osgeo.org/wiki/Tile_Map_Service_Specification

## Google Tiles

* https://www.microimages.com/documentation/TechGuides/78googleMapsStruc.pdf
* https://www.maptiler.com/
* http://oms.wff.ch/calc.php?baseurl=cylce&lat=47.629000&long=7.262000&longto=7.906000&latto=47.354000
* https://www.researchgate.net/figure/Google-Maps-Tiling-Scheme-the-first-three-zoom-levels-the-tiles-and-their-numbering_fig1_321064657
* https://cfis.savagexi.com/2006/05/03/google-maps-deconstructed/


## OSM & Tile Servers

* https://www.openstreetmap.org/#map=17/49.43734/11.12898
* https://forum.openstreetmap.org/viewforum.php?id=42
* https://Help.openstreetmap.org
* https://lists.openstreetmap.org/listinfo

Wiki

* https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Tile_servers
* https://wiki.openstreetmap.org/wiki/TMS
* https://wiki.openstreetmap.org/wiki/Tiles

more

* http://mc.bbbike.org/mc/ <<< map compare ****
* http://fieldpapers.org/
* https://switch2osm.org/
* http://osm2world.org/
* https://github.com/vvoovv/blender-osm#openstreetmap-importer-for-blender
* https://wiki.openstreetmap.org/wiki/OSM-3D.org
* http://osmgo.org/
* https://github.com/UDST/vizicities
* https://github.com/rastapasta/mapscii

teams

* https://www.hotosm.org/
* https://healthsites.io/map#!/locality/node/2340008551
* https://www.openstreetmap.us/
* https://maproulette.org/
* https://www.mapillary.com/



## https://leafletjs.com/ Leaflet.js

* https://leafletjs.com/
* https://github.com/Leaflet/Leaflet
* https://stackoverflow.com/questions/tagged/leaflet
* https://twitter.com/LeafletJS

more

* https://osmbuildings.org/
* http://geommills.github.io/esrileaflet3JS/ ~ 2015 ~ 2d & 3d
* https://www.wrld3d.com/ ~ $$$
* https://mocainfo.thm.de/building-3d/
* https://github.com/geommills/esrileaflet3JS ~ 2015


mourner agafonkin

* https://observablehq.com/@mourner
* https://observablehq.com/search?page=2&query=three.js


## MapBox

* https://docs.mapbox.com/mapbox-gl-js/api/

### 3D Globe & flat Three.js

* http://www.webglearth.com/#ll=0.00000,0.00000;alt=17000000
* http://examples.webglearth.com/
* https://github.com/w3reality/three-geo
* https://github.com/peterqliu/threebox


### Stackoverflow

* https://stackoverflow.com/questions/38339961/how-to-put-a-mapboxgl-map-in-three-js-without-requiring-two-canvases'
* https://stackoverflow.com/questions/25559222/leaflet-osm-tiles-shown-as-a-ground-plane-in-a-2d-environment



## Articles

* https://www.reddit.com/r/openstreetmap/comments/6isju5/openstreetmap_websitesapps_to_share/
* https://webkid.io/blog/3d-map-library-roundup/
* https://blog.mapbox.com/bringing-3d-terrain-to-the-browser-with-three-js-410068138357
* https://github.com/sshuair/awesome-gis
* http://science.geof.unizg.hr/cmc2018/wp-content/uploads/2019/10/Proceedings_ICA_11CMC.pdf
* https://bachasoftware.com/custom-software-development/
* https://dev.to/camptocamp-geo/the-3-best-open-source-web-mapping-libraries-57o7

## Associations

* http://www.mountaincartography.org/
* https://icaci.org/category/commission-news/commission-on-mountain-cartography/
* https://geohipster.com/

## Twitter

* https://twitter.com/thematicmapping


## Symbols and themes

* https://wiki.gis.com/wiki/index.php/Proportional_symbol_map
>A Proportional symbol map is a type of Thematic map that uses map symbols that vary in size to represent a quantitative variable. [1]Symbols vary in height, length, area, or volume from place to place depending on the variable that they represent. [2] For example, discs may be used to show the location of cities within the map where the size of the disc is proportional to the population of the city.
>This type of map is useful for visualization when raw data cannot be dealt with as a ratio or proportion. Although circles are the most typical symbol because they are more compact due to their low perimeter to area ratio, studies show that it is easier for the reader to estimate the size of the symbol if it is a square or a bar. [3] The best way to increase the reader's ability to correctly estimate the size of a circle is through effective legend design, including providing examples of different sized circles which will be shown in the map. Proportional symbol maps are effective because they allow the reader to understand large quantities of data in a fast and simple way.
* http://resources.arcgis.com/en/help/main/10.1/index.html#//00s500000005000000
* https://pro.arcgis.com/en/pro-app/latest/help/mapping/layer-properties/proportional-symbology.htm
* https://blog.mastermaps.com/2008/06/proportional-symbols-in-three.html
* http://thematicmapping.org/engine/
* https://www.tableau.com/learn/articles/data-visualization/glossary


## MATH


	var pi = Math.PI, pi05 = pi * 0.5, pi2 = pi + pi;
	var d2r = pi / 180, r2d = 180 / pi;  // degrees / radians

	var sin = Math.sin;
	var cos = Math.cos;

	var v = new THREE.Vector3;
	var v = function ( x, y, z ){ return new THREE.Vector3( x, y, z ); };


	var cos = function ( a ){ return Math.cos( a ); }
	var sin = function ( a ){ return Math.sin( a ); }

	function cos( a ){ return Math.cos( a ); }
	function sin( a ){ return Math.sin( a ); }

	function pow( a, b ){ return Math.pow( a, b ); }
	function ran(){ return Math.random(); }

	v( x, y, z ) => new THREE.Vector3( x, y, z );
	v2( x, y ) => new THREE.Vector2( x, y );


## MapBox

https://api.mapbox.com/v4/mapbox.terrain-rgb/15/5242/12663.pngraw?access_token=pk.eyJ1IjoidGhlb2EiLCJhIjoiY2o1YXFra3V2MGIzbzJxb2lneDUzaWhtZyJ9.7bYFAQabMXiYmcqW8NLfwg

https://api.mapbox.com/v4/mapbox.terrain-rgb/0/0/0.pngraw?access_token=pk.eyJ1IjoidGhlb2EiLCJhIjoiY2o1YXFra3V2MGIzbzJxb2lneDUzaWhtZyJ9.7bYFAQabMXiYmcqW8NLfwg

https://api.mapbox.com/v4/mapbox.terrain-rgb/7/20/49.pngraw?access_token=pk.eyJ1IjoidGhlb2EiLCJhIjoiY2o1YXFra3V2MGIzbzJxb2lneDUzaWhtZyJ9.7bYFAQabMXiYmcqW8NLfwg


height = -10000 + ((R * 256 * 256 + G * 256 + B) * 0.1)

key from https://www.mapbox.com/mapbox-gl-js/example/map-tiles/

http://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v6/14/4823/6160.vector.pbf?access_token=pk.eyJ1IjoidGhlb2EiLCJhIjoiY2o1YXFra3V2MGIzbzJxb2lneDUzaWhtZyJ9.7bYFAQabMXiYmcqW8NLfwg

works!!!

pk.eyJ1IjoidGhlb2EiLCJhIjoiY2o1YXFra3V2MGIzbzJxb2lneDUzaWhtZyJ9.7bYFAQabMXiYmcqW8NLfwg

https://api.mapbox.com/v4/mapbox.streets/14/4823/6160.png?access_token=pk.eyJ1IjoidGhlb2EiLCJhIjoiY2o1YXFra3V2MGIzbzJxb2lneDUzaWhtZyJ9.7bYFAQabMXiYmcqW8NLfwg


http://tile.openstreetmap.org/7/20/49.png


## JSON
{
	"vicinity": "xxx",
	"latitude": 0,
	"longitude": 0,
	"zoom": 12,
	"tilesX": 3,
	"tilesY": 3,
	"samplesX": 510,
	"samplesY": 510,
	"ULtileX": xxx,
	"ULtileY": xxx,
	"plainOpacity" : 0.5,
	"verticalScale" : 0.00001,
	"fogNear" : 0.5,
	"fogFar" : 1,
	"elevations": [

]
}

// Interesting places. Possibly to add to gazetteer

// BGBW Narsarsuaq Airport
// EGNS / isle of Man
// PHOG hawaii


// San Francisco
	var latitude = 37.796;
	var longitude = -122.398;

// Paris
	var latitude = 48.8566;
	var longitude = 2.3522;
/*

// Igualada Spain
	var latitude = 41.5861554761;
	var longitude = 1.6519343471;

// VNLK
	var latitude = 27.71110193545;
	var longitude = 86.71228385040001;

// YGIL Gilgandra
	var latitude = -31.7276314069;
	var longitude = 148.63915118805;

// PHOG hawaii
	var latitude = 20.8968;
	var longitude = -156.4329;

*/

more nice lat lon

## FORM

			'<p>Latitude : <input id=inpLatitude size=12 placeholder=' + latitude + ' onchange=goIt(); ></p>' +
			'<p>Longitude: <input id=inpLongitude size=12 placeholder=' + longitude + ' onchange=goIt(); ></p>' +


## TMS

* Source http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#ECMAScript_.28JavaScript.2FActionScript.2C_etc..29

	function lon2tile( lon, zoom ) {

		return Math.floor( ( lon + 180 ) / 360 * Math.pow( 2, zoom ) );

	}

	function lat2tile( lat, zoom ) {

		const pi = Math.PI;

		return Math.floor( ( 1 - Math.log( Math.tan( lat * pi / 180 ) + 1 / Math.cos( lat * pi / 180 ) ) / pi ) / 2 * Math.pow( 2, zoom ) );

	}


	function tile2lon( x, zoom ) {

		return ( x / Math.pow( 2, zoom ) * 360 - 180 );

	}

	function tile2lat( y, zoom ) {

		var pi = Math.PI
		var n = pi - 2 * pi * y / Math.pow( 2, zoom );
		return 180 / pi * Math.atan( 0.5 * ( Math.exp( n ) - Math.exp( -n ) ));

	}

http://wiki.openstreetmap.org/wiki/Zoom_levels

### Mercator

http://wiki.openstreetmap.org/wiki/Mercator

function y2lat( a ) { return 180 / Math.PI * ( 2 * Math.atan( Math.exp( a * Math.PI / 180 ) ) - Math.PI / 2 ); }

function lat2y( a ) { return 180 / Math.PI * Math.log( Math.tan( Math.PI / 4 + a * ( Math.PI / 180 ) / 2 ) ); }


## XYZ

// source http://en.wikipedia.org/wiki/Spherical_coordinate_system

	function convertPosition( lat, lon, radius ) {

		const d2r = pi / 180
		var rc = radius * Math.cos( lat * d2r );
		return new THREE.Vector3( rc * Math.cos( lon * d2r ), radius * Math.sin( lat * d2r ), rc * Math.sin( lon * d2r) );
	}

	function latLonToXYZ( radius, latitude, longitude ) {

		x = radius * Math.sin( latitude ) * Math.cos( longitude )
		y = radius * Math.sin( latitude ) * Math.sin( longitude )
		z = radius * Math.cos( latitude )

		return new THREE.Vector3( x, y, z );

	}


## Google Maps

Google Maps Time Zone API
* https://developers.google.com/maps/documentation/timezone/start
* https://maps.googleapis.com/maps/api/timezone/json?location=38.908133,-77.047119&timestamp=1458000000
* https://stackoverflow.com/questions/23017766/google-maps-tile-url-for-hybrid-maptype-tiles

>Smart clients were supposed to spread the load across servers mt0 to mt3. But now, these names and mt are all aliases (CNAMEs) of mt.l.google.com that the DNS rotates through a number of addresses as it is queried. So, simply using mt.google.com will do the balancing globally, and locally if you do multiple DNS queries

h = roads only ~ white background
m = standard road map
p = terrain ~ all black
r = somehow altered road map ~ nothing visible
s = satellite only
t = terrain only
y = hybrid


## Bitmaps & Height Maps

* Google maps: set language? &hl=fr ??
* Calculate the lower zoom before the higher zoom - then easier to calculate the correct common top left
* Don't forget the origin for tiles at XY = 0,0 is top left
* ESRI // remember x and y reversed

