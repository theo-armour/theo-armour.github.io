<!doctype html>
<html lang=en >
<head>
<title>Fidgetty R3</title>
<meta charset=utf-8 >
<meta name=viewport content='width=device-width,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0' >
</head>
<body>
<script>

	var startTime;

	var woodwinds = new Audio( 'woodwinds.mp3' );
	var recorder = new Audio( 'recorder.mp3' );
	var digivice = new Audio( 'http://www.freesfx.co.uk/rx2/mp3s/9/10544_1374652337.mp3' );
	var success = new Audio( 'success.wav' );
	var piano = new Audio( 'http://www.kozco.com/tech/piano2-CoolEdit.mp3' );
	var organ = new Audio( 'http://www.kozco.com/tech/organfinale.mp3' );
	var harp = new Audio( 'http://www.soundjay.com/misc/sounds/dream-harp-06.mp3' );

	var sounds = [ woodwinds, recorder, digivice, success, piano, organ, harp ];


	init();

	function init() {

		var css, menu;

		css = document.body.appendChild( document.createElement('style') );
		css.innerHTML = 'body { font: 600 12pt monospace; margin: 0 20px; }' +
			'h2, a { margin: 0; }' +
			'button { background-color: white; border-width: 1px; font-size: 24pt; }' +
			'#clock, #countdown { font-size: 24pt; }' +
			'#cols { border: 0px #ccc solid; /* columns: 300px 3; */  }' +
		'';

		menu = document.body.appendChild( document.createElement( 'div' ) );
//		menu.style.cssText = 'margin: 0 20px; position: absolute;';
		menu.innerHTML =

		'<h2><a href="" >' + document.title + '</a></h2>' +

		'<div id=cols >' +

			'<p>' +
				'<button onclick=stopNotices(); > Stop </button> ' +
				'<button onclick=startNotices(); > Start </button>' +
			'</p>' +

			'<p id=clock ></p>' +
			'<p id=countdown ></p>' +

			'<h3>Fidgets</h3>' +

			'<p>' +
				'<div title="Roll feet up and down" > Ankle pumps <div>' +
				'Ankle circles<br>' +
				'Knee extension & flexion<br>' +
				'Rise alternates knees<br>' +
				'Push feet into the ground<br>' +
				'Head up and down to chest<br>' +
				'Roll shoulders<br>' +
				'Knees together and out<br>' +
				'Head between knees<br>' +
				'Turn from side to side<br>' +
				'Rotate hips<br>' +
				'Stretch arms up into air one at a time<br>' +
				'Grab arms behind shoulders<br>' +
				'Arch back<br>' +
				'Coccyx curl<br>' +
				'Wave arms to sides<br>' +
			'<p>' +

		'</div>';

		startNotices();

	}


	function startNotices() {

		startTime = Date.now();

		giveNotice();

		notices = setInterval( giveNotice, 1000 );

	}


	function stopNotices() {

		clearInterval( notices );

	}


	function giveNotice() {

		var date, now, delta;

		date = new Date();

		clock.innerHTML = date.toLocaleTimeString();

		now = Date.now();

		delta = now - startTime;

		countdown.innerHTML = ( 301000 - delta ).toFixed().slice( 0, -3 ) ;

		if ( delta > 5000 ) {

			sound = sounds[ Math.floor( Math.random() * sounds.length ) ];
			sound.play();

			console.log( '', sound.src );
			startTime = now;

		}

	}

</script>
</body>
</html>